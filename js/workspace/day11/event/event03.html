<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏3</title>
  </head>
  <body>
    <!-- 15Î∂Ñ -->
    <form method="get" action="test">
      <label>
        <input type="text" name="id" placeholder="ÏïÑÏù¥ÎîîÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî" />
        <p id="id-result"></p>
      </label>
      <label>
        <input
          type="password"
          name="password"
          placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî"
        />
        <p id="password-result"></p>
      </label>
      <button type="button">Î°úÍ∑∏Ïù∏</button>
    </form>
  </body>
  <script>
    // ÌôîÎ©¥Ïùò Ïú†Ìö®ÏÑ±Í≤ÄÏÇ¨
    // Í≤ÄÏÇ¨Í∞Ä ÏôÑÎ£åÎêòÎ©¥ "ÌôïÏù∏ÎêòÏóàÏäµÎãàÎã§" ÏïåÎ¶ºÏ∞ΩÏùÑ ÎùÑÏö¥Îã§.
    const button = document.querySelector("button");
    const id = document.querySelector("input[name='id']");
    const password = document.querySelector("input[name='password']");
    const idResult = document.querySelector("#id-result");
    const passwordResult = document.querySelector("#password-result");
    const form = document.querySelector("form");

    globalThis.flag = new Array(false, false);

    id.addEventListener("blur", (e) => {
      const target = e.target;
      if(!target.value){
        globalThis.flag[0] = false;
        idResult.innerText = "ÏïÑÏù¥ÎîîÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî"
        idResult.style.color = "red"
        // target.focus();
        return;
      }
      globalThis.flag[0] = true;
      idResult.innerText = "Î©ãÏßÑ ÏïÑÏù¥ÎîîÎÑ§ÏöîüòÅ"
      idResult.style.color = "blue"
    })

    password.addEventListener("blur", (e) => {
      console.log(e)
      const target = e.target
      if(!target.value){
        globalThis.flag[1] = false;
        passwordResult.innerText = "ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî."
        passwordResult.style.color = "red"
        return;
      }
      globalThis.flag[1] = true;
      passwordResult.innerText = "ÎπÑÎ∞ÄÎ≤àÌò∏ ÌôïÏù∏!üòé"
      passwordResult.style.color = "blue"
    })

    button.addEventListener("click", (e) => {
        if(globalThis.flag.filter((check) => check).length != 2){
          return;
        }
        form.submit()
    })    



  </script>
</html>
